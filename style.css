:root {
  --light-bg: linear-gradient(135deg, #b3c7ff 0%, #cdb3ff 100%);
  --light-container: rgba(255, 255, 255, 0.95);
  --light-text: #2c3e50;
  --light-accent: #3498db;
  --light-correct: #2ecc71;
  --light-wrong: #e74c3c;

  --dark-bg: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
  --dark-container: rgba(44, 62, 80, 0.95);
  --dark-text: #ecf0f1;
  --dark-accent: #3498db;
  --dark-correct: #2ecc71;
  --dark-wrong: #e74c3c;

  --colorful-bg: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 100%);
  --colorful-container: rgba(255, 255, 255, 0.95);
  --colorful-text: #2c3e50;
  --colorful-accent: #ff6b6b;
  --colorful-correct: #4ecdc4;
  --colorful-wrong: #ff6b6b;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.5s ease;
}

body[data-theme="light"] { background: var(--light-bg); color: var(--light-text); }
body[data-theme="dark"] { background: var(--dark-bg); color: var(--dark-text); }
body[data-theme="colorful"] { background: var(--colorful-bg); color: var(--colorful-text); }

.container {
  max-width: 900px;
  width: 95%;
  background: var(--dark-container);
  backdrop-filter: blur(6px);
  border-radius: 18px;
  padding: 26px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.28);
  margin: 20px;
  transition: all 0.3s ease;
}

body[data-theme="light"] .container { background: var(--light-container); }
body[data-theme="colorful"] .container { background: var(--colorful-container); }

/* Theme switcher */
.theme-switcher {
  position: fixed;
  top: 18px;
  right: 18px;
  display: flex;
  gap: 8px;
  background: rgba(255,255,255,0.06);
  padding: 8px;
  border-radius: 50px;
  backdrop-filter: blur(6px);
  z-index: 200;
}

.theme-btn {
  background: none;
  border: none;
  font-size: 1.15em;
  padding: 8px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.25s ease;
  opacity: 0.7;
}

.theme-btn.active { opacity: 1; transform: scale(1.06); background: rgba(255,255,255,0.08); }

/* Header */
.header { display:flex; justify-content:space-between; align-items:center; gap:20px; margin-bottom:18px; flex-wrap:wrap; }
.title { font-size:2.2em; font-weight:700; background: linear-gradient(135deg,#667eea,#764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
.title1 {  background: linear-gradient(135deg,#667eea,#764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
.wins-board { background: rgba(255,255,255,0.04); padding:8px 12px; border-radius:12px; }
.wins-label { display:block; font-size:0.85em; opacity:0.8; }
.wins-value { font-size:1.2em; font-weight:700; color:var(--dark-accent); }

/* Controls */
.game-controls { display:flex; gap:18px; margin-bottom:16px; flex-wrap:wrap; }
.difficulty-selector, .category-selector { flex:1; min-width:180px; }
label { display:block; margin-bottom:6px; font-weight:600; }
select { width:100%; padding:10px 12px; border:none; border-radius:10px; background: rgba(255,255,255,0.06); color:inherit; font-size:1em; backdrop-filter: blur(6px); }

/* Game info */
.game-info { display:flex; justify-content:space-between; align-items:center; margin-bottom:18px; gap:12px; flex-wrap:wrap; }
.hint-section { display:flex; align-items:center; gap:12px; }
.hint-btn { background: linear-gradient(135deg,#ffd700,#ffed4e); color:#2c3e50; border:none; padding:10px 16px; border-radius:24px; font-weight:700; cursor:pointer; box-shadow:0 6px 14px rgba(255,215,0,0.18); }
.hint-btn:disabled { opacity:0.5; cursor:not-allowed; transform:none; box-shadow:none; }
.hints-remaining { font-weight:700; color:#ffd700; }
.wrong-count { font-weight:600; }

/* Game container */
.game-container { display:grid; grid-template-columns:1fr 1fr; gap:34px; margin-bottom:18px; align-items:start; }
@media (max-width:768px) { .game-container { grid-template-columns:1fr; } }

.hangman-container { display:flex; justify-content:center; align-items:center; }
.figure-container { fill:transparent; stroke-width:4; stroke-linecap:round; filter: drop-shadow(0 6px 12px rgba(0,0,0,0.25)); transition: all 0.4s ease; }
body[data-theme="light"] .figure-container { stroke: var(--light-text); }
body[data-theme="dark"] .figure-container { stroke: var(--dark-text); }
body[data-theme="colorful"] .figure-container { stroke: var(--colorful-text); }

.gallows { stroke: #95a5a6; stroke-dasharray:1000; stroke-dashoffset:1000; animation: drawLine 1.6s ease-in-out forwards; }
@keyframes drawLine { to { stroke-dashoffset:0; } }

.figure-part { display:none; stroke-dasharray:1000; stroke-dashoffset:1000; animation-fill-mode:forwards; }
.figure-part.animate { animation: drawLine 0.8s ease-in-out forwards; }

/* figure-parts scoped animations */
.figure-parts .figure-part:nth-child(1) { animation: drawCircle 0.8s ease-in-out forwards; }
@keyframes drawCircle {
  0% { stroke-dashoffset:1000; opacity:0; }
  50% { opacity:1; }
  100% { stroke-dashoffset:0; opacity:1; }
}
.figure-parts .figure-part:nth-child(2) { animation-delay:0.08s; }
.figure-parts .figure-part:nth-child(3) { animation-delay:0.16s; }
.figure-parts .figure-part:nth-child(4) { animation-delay:0.24s; }
.figure-parts .figure-part:nth-child(5) { animation-delay:0.32s; }
.figure-parts .figure-part:nth-child(6) { animation-delay:0.40s; }

.figure-parts .figure-part:last-child { animation: hang 1s ease-in-out forwards; }
@keyframes hang { 0%{ transform: translateY(-20px); opacity:0; } 50%{ transform: translateY(10px); opacity:1; } 100%{ transform: translateY(0); opacity:1; } }

.shake { animation: shake 0.45s ease-in-out; }
@keyframes shake { 0%,100%{ transform: translateX(0);} 25%{ transform: translateX(-6px);} 75%{ transform: translateX(6px);} }

.figure-container.swing { animation: swing 3s ease-in-out infinite; transform-origin: 60px 20px; }
@keyframes swing { 0%,100%{ transform: rotate(-2deg);} 50%{ transform: rotate(2deg);} }

/* Sidebar */
.game-sidebar { display:flex; flex-direction:column; gap:18px; }
.wrong-letters-container, .word-progress { background: rgba(255,255,255,0.04); padding:16px; border-radius:12px; backdrop-filter: blur(6px); }
.wrong-letters-container h3, .word-progress h3 { margin-bottom:12px; font-size:1.1em; opacity:0.9; }
.wrong-letters { display:flex; gap:8px; flex-wrap:wrap; font-size:1.4em; font-weight:700; color:var(--dark-wrong); }
body[data-theme="light"] .wrong-letters { color:var(--light-wrong); }
body[data-theme="colorful"] .wrong-letters { color:var(--colorful-wrong); }

.word { display:flex; justify-content:center; flex-wrap:wrap; gap:8px; }
.letter { border-bottom:3px solid var(--dark-accent); display:inline-flex; font-size:1.6em; font-weight:800; align-items:center; justify-content:center; height:48px; min-width:36px; transition:all 0.3s ease; text-transform:uppercase; }
body[data-theme="light"] .letter { border-bottom-color:var(--light-accent); }
body[data-theme="colorful"] .letter { border-bottom-color:var(--colorful-accent); }
.letter.revealed { animation: bounceIn 0.55s ease; color:var(--dark-correct); }
@keyframes bounceIn { 0%{ transform:scale(0.3); opacity:0 } 50%{ transform:scale(1.08); opacity:1 } 100%{ transform:scale(1) } }
.pulse-glow { animation: pulseGlow 1s ease-in-out; }
@keyframes pulseGlow { 0%,100%{ filter: drop-shadow(0 0 6px rgba(46,204,113,0.45)); } 50%{ filter: drop-shadow(0 0 18px rgba(46,204,113,0.85)); } }

/* Keyboard */
.keyboard-container { margin-top:12px; display:flex; justify-content:center; }
.keyboard { display:grid; grid-template-columns: repeat(13, 1fr); gap:8px; max-width:640px; width:100%; }
@media (max-width:768px) { .keyboard { grid-template-columns: repeat(9, 1fr); } }
@media (max-width:480px) { .keyboard { grid-template-columns: repeat(7, 1fr); } }

.key { background: rgba(255,255,255,0.06); border:none; border-radius:8px; padding:10px 6px; font-size:1em; font-weight:700; color:inherit; cursor:pointer; transition: all 0.2s ease; text-transform:uppercase; }
.key:hover:not(.used) { background: rgba(255,255,255,0.12); transform: translateY(-3px); }
.key.used { opacity:0.45; cursor:not-allowed; transform:scale(0.96); }
.key.correct { background: var(--dark-correct); color:white; }
body[data-theme="light"] .key.correct { background:var(--light-correct); }
body[data-theme="colorful"] .key.correct { background:var(--colorful-correct); }
.key.wrong { background: var(--dark-wrong); color:white; }
body[data-theme="light"] .key.wrong { background:var(--light-wrong); }
body[data-theme="colorful"] .key.wrong { background:var(--colorful-wrong); }

/* Popup */
.popup-container { position:fixed; top:0; left:0; right:0; bottom:0; background: rgba(0,0,0,0.8); display:none; align-items:center; justify-content:center; z-index:1000; backdrop-filter: blur(4px); }
.popup { background: var(--dark-container); border-radius:14px; padding:30px; text-align:center; max-width:480px; width:90%; box-shadow:0 18px 40px rgba(0,0,0,0.28); }
body[data-theme="light"] .popup { background: var(--light-container); }
body[data-theme="colorful"] .popup { background: var(--colorful-container); }
.popup-icon { font-size:3.6em; margin-bottom:14px; animation: bounce 1s ease infinite; }
@keyframes bounce { 0%,100%{ transform:scale(1); } 50%{ transform:scale(1.08); } }
.popup h2 { font-size:1.6em; margin-bottom:8px; }
.play-again-btn { background: linear-gradient(135deg,#667eea,#764ba2); color:white; border:none; padding:12px 26px; border-radius:24px; font-size:1em; font-weight:700; cursor:pointer; }

/* Notification */
.notification-container { position:fixed; bottom:-120px; left:50%; transform:translateX(-50%); background: rgba(255,255,255,0.95); color:#2c3e50; padding:12px 18px; border-radius:40px; display:flex; gap:10px; align-items:center; box-shadow:0 8px 22px rgba(0,0,0,0.18); transition: all 0.45s cubic-bezier(0.68,-0.55,0.265,1.55); z-index:1001; }
.notification-container.show { bottom:30px; }
.notification-icon { font-size:1.15em; }

/* Responsive tweaks */
@media (max-width:768px) {
  .container { padding:18px; margin:10px; }
  .title { font-size:1.7em; text-align:center; }
  .header { flex-direction:column; }
}

/* Winning animations (lightweight) */
.celebration-bg { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; opacity:0; transition:opacity 0.6s ease; z-index:998; }
.celebration-bg.active { opacity:1; }
.confetti { position:fixed; width:10px; height:10px; pointer-events:none; z-index:1002; animation: confettiFall 2.5s linear forwards; }
@keyframes confettiFall { 0%{ transform: translateY(-120px) rotate(0deg); opacity:1 } 100%{ transform: translateY(100vh) rotate(360deg); opacity:0 } }

.winning .figure-container { animation: rainbow 3s linear infinite; }
@keyframes rainbow { 0%{ filter: hue-rotate(0deg) } 100%{ filter: hue-rotate(360deg) } }
